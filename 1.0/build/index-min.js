/*!build time : 2013-10-22 3:56:52 PM*/
KISSY.add("gallery/DelayActivator/1.0/index",function(a,b){var c=new b.Class({__activation:null,__activations:{},actived:0,enableActiveMode:!1,active:function(a,b){function c(){d.active(),d.activeTimer=null,e.enableActiveMode&&e.actived++}var d,e=this;b?"object"==typeof b?(d=b.activation||{},b.activation=d):(d=e.__activations[b]||{},e.__activations[b]=d):d={},d.active=a,e.__activation=d,d.deactiveTimer?e.stopDeactive():e.actived?c():d.activeTimer=setTimeout(c,e.activeWait)},deactive:function(a){function b(){d.deactive(),d.deactiveTimer=null,c.enableActiveMode&&c.actived--}var c=this,d=c.__activation;d.deactive=a,d.activeTimer?c.stopActive():c.deactiveWait?d.deactiveTimer=setTimeout(b,c.deactiveWait):b()},hold:function(){var a=this;a.stopDeactive()},release:function(){var a=this,b=a.__activation;a.deactive(b.deactive)},stopActive:function(){var a=this,b=a.__activation;clearTimeout(b.activeTimer),b.activeTimer=null},stopDeactive:function(){var a=this,b=a.__activation;clearTimeout(b.deactiveTimer),b.deactiveTimer=null},activate:function(a){var b=this;return b.activeWait=a,function(a){return function(c){var d=this,e=arguments;b.active(function(){a.apply(d,e)},c)}}},deactivate:function(a){function b(){var a=this,b=arguments;d.deactive(function(){c.apply(a,b)})}var c,d=this;return"function"==typeof a?(c=a,b):(d.deactiveWait=a,function(a){return c=a,b})}});return c},{requires:["gallery/oop/0.1/index"]});